import { Link } from '@brillout/docpress'
import { ProvidedByUiFrameworkVikeExtension } from '../components'

<ProvidedByUiFrameworkVikeExtension
  what={
    <>
      <code>useData()</code> component hook
    </>
  }
  manual={<Link href="/data#without-vike-extension" />}
/>

The `useData()` component hook allows you to access the data that is returned by a <Link href="/data">`data()` hook</Link>.

```js
// SomeComponent.js
// Environment: server, client

import { useData } from 'vike-react'
/* Or:
import { useData } from 'vike-vue'
import { useData } from 'vike-solid'
*/

// ...

  // Inside any UI component
  const data = useData()
  const { name, price } = data
```

```js
// /pages/product/@id/+data.js
// Environment: server

export { data }

async function data(pageContext) {
  let product = await Product.findById(pagContext.routeParams.id)

  // `product` is serialized and passed to the client. Therefore, we pick only the
  // data the client needs in order to minimize what is sent over the network.
  product = { name: product.name, price: product.price }

  return product
}
```

See <Link href="/data-fetching" /> for more information about data fetching.


## TypeScript

```ts
// /pages/product/SomeComponent.ts
// Environment: server, client

import type { Data } from './+data'

// ...

  // Inside any UI component
  const data = useData<Data>()
  // ...
```

```ts
// /pages/product/+data.ts
// Environment: server

export { data }
export type Data = Awaited<ReturnType<typeof data>>

import type { PageContextServer } from 'vike/types'

async function data(pageContext: PageContextServer) {
  // ...
}
```

Using type inference as shown above is usually what you want, but if you want to enforce a type instead:

```ts
// +data.ts

export { data }
export type { Data }

type Data = /* the type you want to enforce */

import type { DataAsync } from 'vike/types'

const data: DataAsync = async (pageContext): Promise<Data> => {
  // ...
}
```


## See also

- <Link href="/data-fetching" />
- <Link href="/data" />
- <Link href="/usePageContext" />
